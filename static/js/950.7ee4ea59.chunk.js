/*! For license information please see 950.7ee4ea59.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[950],{9597:function(e,t,r){var a=r(1413),i=(r(2791),r(8175)),s=r(184);t.Z=function(e){return(0,s.jsxs)(i.ZP,(0,a.Z)((0,a.Z)({speed:2,width:376,height:124,viewBox:"0 0 476 124",backgroundColor:"#d2d0d0",foregroundColor:"#f3f2f2"},e),{},{children:[(0,s.jsx)("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),(0,s.jsx)("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),(0,s.jsx)("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"310",height:"6"}),(0,s.jsx)("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"280",height:"6"}),(0,s.jsx)("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),(0,s.jsx)("circle",{cx:"20",cy:"20",r:"20"}),(0,s.jsx)("rect",{x:"27",y:"27",rx:"0",ry:"0",width:"1",height:"0"})]}))}},4950:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=r(4165),i=r(5861),s=r(9439),c=r(1243),l=r(2791),n=r(9190),o={text:"MyOrders_text__2vS4E"},d=r(4270),m=r(1087),h=r(9597),x=r(184);function u(){var e=(0,l.useState)(),t=(0,s.Z)(e,2),r=t[0],u=t[1],p=(0,l.useContext)(n.o).baseUrl,f=localStorage.getItem("userId");function v(){return(v=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(p,"/api/v1/orders/user/").concat(f)).catch((function(e){return console.log(e)}));case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,i.Z)((0,a.Z)().mark((function e(){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userMail"),e.next=3,c.Z.get("https://ecommerce.routemisr.com/api/v1/users?email=".concat(t)).catch((function(e){console.log("err",e)}));case 3:r=e.sent,i=r.data,localStorage.setItem("userId",i.users[0]._id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){j.apply(this,arguments)}(),function(){v.apply(this,arguments)}()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.q,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:"Orders"})]}),(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("div",{className:"row py-5  ps-3",children:[(0,x.jsx)("div",{className:"h3 mb-5",children:"My orders"}),(0,x.jsxs)("div",{className:"row text-center bg-prim text-white rounded pe-0 d-flex align-items-center",children:[(0,x.jsx)("div",{className:"col-1 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"index"})}),(0,x.jsx)("div",{className:"col-1 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"id"})}),(0,x.jsx)("div",{className:"col-3 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"Payment Method"})}),(0,x.jsx)("div",{className:"col-2 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"Sub total"})}),(0,x.jsx)("div",{className:"col-1 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"items "})}),(0,x.jsx)("div",{className:"col-1 px-0",children:(0,x.jsx)("h6",{className:o.text,children:"items "})})]}),null===r||void 0===r?void 0:r.map((function(e,t){var a,i;return(0,x.jsxs)("div",{className:"row text-center border-bottom pe-0 d-flex align-items-center",children:[(0,x.jsx)("div",{className:"col-1 bg-main rounded text-white  px-0",children:(0,x.jsx)("h6",{className:o.text,children:t+1})}),(0,x.jsx)("div",{className:"col-1  px-0",children:(0,x.jsx)("h6",{className:o.text,children:e.id})}),(0,x.jsx)("div",{className:"col-3  px-0",children:(0,x.jsx)("h6",{className:o.text,children:e.paymentMethodType})}),(0,x.jsx)("div",{className:"col-2  px-0",children:(0,x.jsx)("h6",{className:o.text,children:e.totalOrderPrice})}),(0,x.jsx)("div",{className:"col-1  px-0",children:(0,x.jsx)("h6",{className:o.text,children:e.cartItems.length})}),(0,x.jsx)("div",{className:"col-1 px-0",children:(0,x.jsx)("i",{className:"fa-solid fa-eye cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(t)})}),(0,x.jsx)("div",{className:"modal fade",id:"exampleModal".concat(t),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,x.jsx)("div",{className:"modal-dialog",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsxs)("div",{className:"modal-header",children:[(0,x.jsxs)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:["Order No: ",e.id]}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,x.jsxs)("div",{className:"modal-body container",children:[r?null===(a=r[t])||void 0===a||null===(i=a.cartItems)||void 0===i?void 0:i.map((function(e,t){return(0,x.jsxs)("div",{className:"row  align-items-center border-bottom py-2",children:[(0,x.jsx)("div",{className:"col-2",children:(0,x.jsx)(m.rU,{to:"/product-details/".concat(e.product._id),children:(0,x.jsx)("img",{src:e.product.imageCover,className:"w-100  rounded-2",alt:e.product.title})},e.product._id)}),(0,x.jsxs)("div",{className:"col-10  row px-2",children:[(0,x.jsxs)("div",{className:"col-10  pt-2",children:[(0,x.jsxs)(m.rU,{to:"/product-details/".concat(e.product._id),children:[(0,x.jsx)("h6",{className:"h6  fw-bold",children:e.product.title}),(0,x.jsx)("h6",{className:"mb-3  text-muted",children:e.product.brand.name})," "]},e.product._id),(0,x.jsx)("div",{className:"d-flex justify-content-start align-items-center mb-3"})]}),(0,x.jsx)("div",{className:"text-center col-2 pt-2",children:(0,x.jsx)(m.rU,{to:"/product-details/".concat(e.product._id),children:(0,x.jsxs)("h6",{className:"fw-bold",children:["EGP ",e.price.toLocaleString()]})},e.product._id)})]})]},t)})):(0,x.jsx)(h.Z,{}),(0,x.jsxs)("h6",{className:"h3 ps-3 py-3 fw-bold",children:["Subtotal: ",r[t].totalOrderPrice.toLocaleString()," EGP"]})]}),(0,x.jsx)("div",{className:"modal-footer",children:(0,x.jsx)("button",{type:"button",className:"btn bg-prim","data-bs-dismiss":"modal",children:"Close"})})]})})})]},t)}))]})})]})}},8175:function(e,t,r){var a=r(2791),i=function(){return i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};var s=function(e){var t=e.animate,r=void 0===t||t,s=e.animateBegin,c=e.backgroundColor,l=void 0===c?"#f5f6f7":c,n=e.backgroundOpacity,o=void 0===n?1:n,d=e.baseUrl,m=void 0===d?"":d,h=e.children,x=e.foregroundColor,u=void 0===x?"#eee":x,p=e.foregroundOpacity,f=void 0===p?1:p,v=e.gradientRatio,j=void 0===v?2:v,g=e.gradientDirection,y=void 0===g?"left-right":g,b=e.uniqueKey,N=e.interval,w=void 0===N?.25:N,E=e.rtl,O=void 0!==E&&E,C=e.speed,k=void 0===C?1.2:C,Z=e.style,P=void 0===Z?{}:Z,S=e.title,M=void 0===S?"Loading...":S,_=e.beforeMask,I=void 0===_?null:_,U=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),L=b||Math.random().toString(36).substring(6),T=L+"-diff",B=L+"-animated-diff",q=L+"-aria",G=O?{transform:"scaleX(-1)"}:null,D="0; "+w+"; 1",K=k+"s",R="top-bottom"===y?"rotate(90)":void 0;return(0,a.createElement)("svg",i({"aria-labelledby":q,role:"img",style:i(i({},P),G)},U),M?(0,a.createElement)("title",{id:q},M):null,I&&(0,a.isValidElement)(I)?I:null,(0,a.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+m+"#"+T+")",style:{fill:"url("+m+"#"+B+")"}}),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:T},h),(0,a.createElement)("linearGradient",{id:B,gradientTransform:R},(0,a.createElement)("stop",{offset:"0%",stopColor:l,stopOpacity:o},r&&(0,a.createElement)("animate",{attributeName:"offset",values:-j+"; "+-j+"; 1",keyTimes:D,dur:K,repeatCount:"indefinite",begin:s})),(0,a.createElement)("stop",{offset:"50%",stopColor:u,stopOpacity:f},r&&(0,a.createElement)("animate",{attributeName:"offset",values:-j/2+"; "+-j/2+"; "+(1+j/2),keyTimes:D,dur:K,repeatCount:"indefinite",begin:s})),(0,a.createElement)("stop",{offset:"100%",stopColor:l,stopOpacity:o},r&&(0,a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+j),keyTimes:D,dur:K,repeatCount:"indefinite",begin:s})))))},c=function(e){return e.children?(0,a.createElement)(s,i({},e)):(0,a.createElement)(l,i({},e))},l=function(e){return(0,a.createElement)(c,i({viewBox:"0 0 476 124"},e),(0,a.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=c}}]);
//# sourceMappingURL=950.7ee4ea59.chunk.js.map