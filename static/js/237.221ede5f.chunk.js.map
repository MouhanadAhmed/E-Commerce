{"version":3,"file":"static/js/237.221ede5f.chunk.js","mappings":"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","sources":["Components/Category/CategoryProducts/CategoryProducts.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { cartContext } from '../../../Context/CartContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport Loading from '../../Helpers/Loading/Loading';\r\nimport { DynamicStar } from 'react-dynamic-star';\r\nimport {Helmet} from \"react-helmet\";\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\n\r\nexport default function CategoryProducts() {\r\n    let {id} =useParams();\r\n\r\n    let {addToCart,baseUrl,handleBaseUrl,addToWishlist,removeFromWishlist,removeItem,userWishlist,userCart} =useContext(cartContext);\r\n\r\n    const [allCategoryProducts,setAllCategoryProducts]=useState();\r\n\r\n    async function getCategoryProducts(id){\r\n      let {data} =    await axios.get(`${baseUrl}/api/v1/products?category[in][]=${id}`).catch((err)=> \r\n      {\r\n        console.log('getCategoryProducts error',err.message);\r\n        if (err.code === \"ERR_NETWORK\") {\r\n          handleBaseUrl();\r\n        }\r\n    }\r\n      );\r\n      setAllCategoryProducts(data.data);\r\n     //  console.log(data);\r\n     }\r\n\r\n\r\n     function checkProductInCart(id){\r\n      let status = userCart?.filter((item)=> item === id);\r\n       if (status?.length>0){\r\n        return true\r\n       }else{\r\n        return false\r\n       }\r\n    }\r\n  \r\n  \r\n    async function addProduct(productId){\r\n      let response = await addToCart(productId);\r\n      if(response?.data.status === 'success'){\r\n        toast.success(response.data.message,{\r\n          duration:3000,\r\n          position:'top-right',\r\n          style:\r\n          {background:'black',\r\n          color:'white'}\r\n        });\r\n      }else{\r\n        toast.error('Error',{duration:3000} )\r\n      }\r\n    }\r\n  \r\n    async function RemoveProduct(productId){\r\n      let response = await removeItem(productId);\r\n          if(response?.data.status === 'success'){\r\n            // decrement();\r\n            toast.success('Product removed from cart',{\r\n              duration:3000,\r\n              position:'top-right',\r\n              style:\r\n              {background:'black',\r\n              color:'white'}\r\n            });\r\n          }else{\r\n            toast.error('Error',{duration:3000} )\r\n          }\r\n    }\r\n  \r\n\r\n      function checkProductInWishlist(id){\r\n        // console.log('wishlist',wishlist);\r\n        //   console.log(wishlist?.filter((item)=> item.id === id));\r\n        // wishlist?.find((item)=> item._id === id)\r\n        let status = userWishlist?.filter((item)=> item === id);\r\n         if (status?.length>0){\r\n          return true\r\n         }else{\r\n          return false\r\n         }\r\n      }\r\n    \r\n      async function addProductToWishlist(productId){\r\n        let response = await addToWishlist(productId);\r\n        if(response?.data.status === 'success'){\r\n          // setHeartIcon('fa-solid text-danger')\r\n          // getFeaturedProducts();\r\n          toast.success(response.data.message,{\r\n            duration:3000,\r\n            position:'top-right',\r\n            style:\r\n            {background:'black',\r\n            color:'white'}\r\n          });\r\n        }else{\r\n          toast.error('Error',{duration:3000} )\r\n        }\r\n        // console.log(response);\r\n      }\r\n    \r\n      async function removeProductFromWishlist(productId){\r\n        let response = await removeFromWishlist(productId);\r\n        if(response?.data.status === 'success'){\r\n          // setHeartIcon('fa-solid text-danger')\r\n          // getFeaturedProducts();\r\n          toast.success(response.data.message,{\r\n            duration:3000,\r\n            position:'top-right',\r\n            style:\r\n            {background:'black',\r\n            color:'white'}\r\n          });\r\n        }else{\r\n          toast.error('Error',{duration:3000} )\r\n        }\r\n        // console.log(response);\r\n      }\r\n\r\n    useEffect(()=>{\r\n        getCategoryProducts(id);\r\n    },[id])\r\n  return (\r\n    <>\r\n                          <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Category products</title>\r\n            </Helmet>\r\n {allCategoryProducts?    <div className=\"container py-4\">\r\n      <div className=\"row\">\r\n        {allCategoryProducts.length !== 0?<> {allCategoryProducts.map((product)=>\r\n                <div key={product._id} className=\"col-md-3 \">\r\n                  <div className=\"product px-2 py-3 rounded\">\r\n                    <Link to={'/product-details/'+ product.id}>\r\n                      <figure className='position-relative rounded'>\r\n                        <LazyLoadImage src={product.imageCover} className='w-100  rounded ' alt={product.category.name} effect='blur' ></LazyLoadImage>\r\n                      {/* <img src={product.imageCover} className='w-100  rounded ' alt={product.category.name} /> */}\r\n                      {product.priceAfterDiscount && product.priceAfterDiscount !== product.price? <span className=\"sale badge text-bg-danger position-absolute top-0 end-0 rounded\">Sale</span>:\"\"}\r\n                      </figure>\r\n\r\n\r\n                    <p className='text-main  my-0 '>{product.category.name}</p>\r\n                    </Link>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                    <p className='text-primary fs-7'>{product.brand.name}</p>\r\n                    {checkProductInWishlist(product.id)? <i className={`fa-solid text-danger fa-heart pe-3 cursor-pointer`} onClick={()=>{ removeProductFromWishlist(product.id)}}></i>: <i className={`fa-regular fa-heart pe-3 cursor-pointer`} onClick={()=>{ addProductToWishlist(product.id)}}></i>}\r\n                    </div>\r\n                    <Link to={'/product-details/'+ product.id}>\r\n                    {/* <p className='text-primary fs-7'>{product.brand.name}</p> */}\r\n                    {product.priceAfterDiscount && product.priceAfterDiscount !== product.price?\r\n                    <>\r\n                      <p className='d-flex align-items-center fw-bold mb-0 me-2'>\r\n                        <sup className='pt-2'>EGP</sup> \r\n                        <span className='fs-5 mx-0 px-0'>{product.priceAfterDiscount.toLocaleString()}</span> \r\n                        <sup className='pt-2'>00</sup> \r\n                      </p>\r\n                      <p className='text-decoration-line-through text-muted d-flex align-items-center mb-2 p-0 me-2'>\r\n                        <sup className='pt-2'>EGP</sup> \r\n                        <span className='fs-6 mx-0 px-0'>{product.price.toLocaleString()}</span>\r\n                        <sup className='pt-2'>00</sup>\r\n                      </p>\r\n                    </>:  <p className='d-flex align-items-center fw-bold p-0 me-2  pb-3'>\r\n                            <sup className='pt-2'>EGP</sup> \r\n                            <span className='fs-5 mx-0 px-0'>{product.price.toLocaleString()}</span>\r\n                            <sup className='pt-2'>00</sup>\r\n                          </p>}\r\n\r\n                    <h3 className='h6 text-truncate'>{product.title}</h3>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                      {/* <p>{product.price} EGP</p> */}\r\n                      <div className='d-flex'>\r\n                      {/* {product.ratingsAverage} */}\r\n                      <span className='ms-2 mt-1 pt-0'> <DynamicStar  outlined={true} height={'30'} width={'15'} rating={product.ratingsAverage} /></span>\r\n                      \r\n                      {/* <i className='fa fa-star rating-color'></i> */}\r\n                      <span className='ms-2 mt-0 pt-0'>{product.ratingsQuantity}</span>\r\n                      </div>\r\n                    </div>\r\n                    </Link>\r\n                    {checkProductInCart(product.id)  ? <button onClick={()=>RemoveProduct(product.id)} className='btn bg-danger text-white w-100'>Remove from cart</button>:<button onClick={()=>addProduct(product.id)} className='btn bg-main text-white w-100'>+ Add to cart</button>}\r\n\r\n                    {/* <button onClick={()=>addProduct(product.id)} className='btn bg-main text-white w-100'>+ Add to cart</button> */}\r\n                  </div>\r\n\r\n                 \r\n                 \r\n                </div>\r\n        )}</>:<h2>No products </h2>}\r\n        \r\n      </div>\r\n    </div>:<Loading></Loading> }\r\n    </>\r\n  )\r\n}\r\n"],"names":["CategoryProducts","id","useParams","_useContext","useContext","cartContext","addToCart","baseUrl","handleBaseUrl","addToWishlist","removeFromWishlist","removeItem","userWishlist","userCart","_useState","useState","_useState2","_slicedToArray","allCategoryProducts","setAllCategoryProducts","_getCategoryProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get$catc","data","wrap","_context","prev","next","axios","concat","catch","err","console","log","message","code","sent","stop","apply","arguments","checkProductInCart","status","filter","item","length","_addProduct","_callee2","productId","response","_context2","toast","duration","position","style","background","color","_RemoveProduct","_callee3","_context3","checkProductInWishlist","_addProductToWishlist","_callee4","_context4","_removeProductFromWishlist","_callee5","_context5","useEffect","_x","getCategoryProducts","_jsxs","_Fragment","children","Helmet","_jsx","charSet","className","map","product","Link","to","LazyLoadImage","src","imageCover","alt","category","name","effect","priceAfterDiscount","price","brand","onClick","_x5","removeProductFromWishlist","_x4","addProductToWishlist","toLocaleString","title","DynamicStar","outlined","height","width","rating","ratingsAverage","ratingsQuantity","_x3","RemoveProduct","_x2","addProduct","_id","Loading"],"sourceRoot":""}