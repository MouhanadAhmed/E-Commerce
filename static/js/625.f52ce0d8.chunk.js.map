{"version":3,"file":"static/js/625.f52ce0d8.chunk.js","mappings":"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","sources":["webpack://session/./src/Components/Cart/Cart.module.css?54a7","Components/Cart/Cart.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"counter\":\"Cart_counter__DzerL\",\"removeBtn\":\"Cart_removeBtn__Ei0Ru\"};","import React, { useContext, useEffect, useState } from 'react'\r\nimport styles from './Cart.module.css'\r\n\r\nimport { cartContext } from '../../Context/CartContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport Loading from '../Helpers/Loading/Loading';\r\nimport { Link } from 'react-router-dom';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\n\r\n\r\nexport default function Cart() {\r\n\r\n    let {getLoggedUserCart,removeItem,updateProductCount,setCounter,decrement} = useContext(cartContext);\r\n\r\n    const [cartDetails,setCartDetails] =useState(null);\r\n\r\n    async function getCart(){\r\n      let response = await getLoggedUserCart();\r\n      localStorage.setItem('cartId',response.data.data._id);\r\n      if(response?.data?.status === 'success'){\r\n        setCartDetails(response.data.data);\r\n        setCounter(response.data.data.products.length)\r\n        // console.log(response.data.data.products);\r\n      }\r\n    }\r\n  \r\n    async function deletItem(productId){\r\n      let response = await removeItem(productId);\r\n      // console.log(response);\r\n      decrement();\r\n      setCartDetails(response.data.data);\r\n      toast.success(\"Product Successfuly removed\",{\r\n        duration:3000,\r\n        position:'top-right',\r\n        style:\r\n        {background:'black',\r\n        color:'white'}\r\n      })\r\n    }\r\n\r\n    async function updateProductQty(productId, count){\r\n      let response = await updateProductCount(productId,count);\r\n      // console.log(response);\r\n      setCartDetails(response.data.data);\r\n      toast.success(\"Product count updated Successfuly \",{\r\n        duration:3000,\r\n        position:'top-right',\r\n        style:\r\n        {background:'black',\r\n        color:'white'}\r\n      })\r\n    }\r\n\r\n     useEffect(()=>{\r\n      getCart();\r\n    },[])\r\n\r\n\r\n  return (\r\n    <>\r\n                          <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Shopping Cart</title>\r\n            </Helmet>\r\n    {cartDetails !== null?     <div className=\"container  p-4 \">\r\n      <h3>Cart </h3>\r\n      \r\n    {cartDetails.products.map((product,index)=>  <div key={index} className='row  align-items-center border-bottom py-2'>\r\n    \r\n      <div className=\"col-2\">\r\n      <Link key={product.product._id} to={`/product-details/${product.product._id}`}>\r\n        <img src={product.product.imageCover} className='w-100  rounded-2' alt={product.product.title} />\r\n        </Link></div>\r\n      <div className=\"col-10  row px-2\">\r\n        <div className='col-10  pt-2'>\r\n        <Link key={product.product._id} to={`/product-details/${product.product._id}`}>\r\n        <h6 className='h6  fw-bold'>{product.product.title}</h6>\r\n        {product.product.brand != null?<h6 className='mb-3  text-muted'>{product.product.brand.name}</h6>:<h6 className='mb-3  text-muted'></h6>}\r\n         </Link>\r\n        <div className=\"d-flex justify-content-start align-items-center mb-3\">\r\n        <div className={`${styles.counter} rounded-pill py-0 border me-3`}>\r\n        <button onClick={()=>updateProductQty(product.product._id,product.count-1)} className='btn rounded-0 fw-bold border-0 btn-sm'><i className=\"fa-solid fa-minus\"></i></button>\r\n          <span className='mx-2 fw-bold'>{product.count}</span>\r\n          <button onClick={()=>updateProductQty(product.product._id,product.count+1)} className='btn rounded-0 fw-bold border-0  btn-sm'><i className=\"fa-solid fa-plus\"></i></button>\r\n        \r\n        </div>\r\n\r\n\r\n        <button onClick={()=>deletItem(product.product._id)} className={`${styles.removeBtn} btn  p-2 px-3 rounded-circle border`}><i className='fa-regular  fa-trash-can' ></i> </button>\r\n       \r\n\r\n        </div>\r\n         </div>\r\n         \r\n        <div className='text-center col-2 pt-2'>\r\n        <Link key={product.product._id} to={`/product-details/${product.product._id}`}>\r\n        <h6 className='fw-bold'>EGP {product.price.toLocaleString()}</h6>\r\n\r\n        </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      </div>\r\n       )}\r\n    \r\n      <div className=\"row w-100 d-flex justify-content-between align-items-center py-2\">\r\n        <div className=\"col-md-8 \">\r\n        <h6 className='h3 ps-3 py-3 fw-bold'>Subtotal: {cartDetails.totalCartPrice.toLocaleString()} EGP</h6> \r\n\r\n        </div>\r\n        <div className=\"col-md-3 d-flex justify-content-center\">\r\n       <Link to={'/checkout'} className=''><button className=' bg-prim rounded-pill  p-2 w-auto'>Proceed to Checkout</button></Link> \r\n\r\n        </div>\r\n     \r\n\r\n      </div>\r\n\r\n    </div>:<Loading></Loading>}\r\n \r\n\r\n \r\n    </>\r\n  )\r\n}\r\n "],"names":["Cart","_useContext","useContext","cartContext","getLoggedUserCart","removeItem","updateProductCount","setCounter","decrement","_useState","useState","_useState2","_slicedToArray","cartDetails","setCartDetails","_getCart","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_response$data","response","wrap","_context","prev","next","sent","localStorage","setItem","data","_id","status","products","length","stop","apply","arguments","_deletItem","_callee2","productId","_context2","toast","duration","position","style","background","color","updateProductQty","_x2","_x3","_updateProductQty","_callee3","count","_context3","useEffect","getCart","_jsxs","_Fragment","children","Helmet","_jsx","charSet","className","map","product","index","Link","to","concat","src","imageCover","alt","title","brand","name","styles","onClick","_x","deletItem","price","toLocaleString","totalCartPrice","Loading"],"sourceRoot":""}