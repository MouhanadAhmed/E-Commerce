"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[237],{6497:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var r=s(4165),n=s(5861),a=s(9439),i=s(1243),c=s(2791),o=s(7689),l=s(1087),u=s(9190),d=s(5218),p=s(6536),m=s(5320),h=s(4270),f=s(7087),x=(s(9713),s(184));function g(){var e=(0,o.UO)().id,t=(0,c.useContext)(u.o),s=t.addToCart,g=t.baseUrl,v=t.handleBaseUrl,j=t.addToWishlist,N=t.removeFromWishlist,b=t.removeItem,w=t.userWishlist,y=t.userCart,k=(0,c.useState)(),Z=(0,a.Z)(k,2),A=Z[0],C=Z[1];function E(){return E=(0,n.Z)((0,r.Z)().mark((function e(t){var s,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(g,"/api/v1/products?category[in][]=").concat(t)).catch((function(e){console.log("getCategoryProducts error",e.message),"ERR_NETWORK"===e.code&&v()}));case 2:s=e.sent,n=s.data,C(n.data);case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function S(e){var t=null===y||void 0===y?void 0:y.filter((function(t){return t===e}));return(null===t||void 0===t?void 0:t.length)>0}function D(){return(D=(0,n.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:"success"===(null===(n=e.sent)||void 0===n?void 0:n.data.status)?d.Am.success(n.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}):d.Am.error("Error",{duration:3e3});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=(0,n.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:"success"===(null===(s=e.sent)||void 0===s?void 0:s.data.status)?d.Am.success("Product removed from cart",{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}):d.Am.error("Error",{duration:3e3});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=null===w||void 0===w?void 0:w.filter((function(t){return t===e}));return(null===t||void 0===t?void 0:t.length)>0}function U(){return(U=(0,n.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:"success"===(null===(s=e.sent)||void 0===s?void 0:s.data.status)?d.Am.success(s.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}):d.Am.error("Error",{duration:3e3});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=(0,n.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:"success"===(null===(s=e.sent)||void 0===s?void 0:s.data.status)?d.Am.success(s.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}):d.Am.error("Error",{duration:3e3});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){!function(e){E.apply(this,arguments)}(e)}),[e]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(h.q,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:"Category products"})]}),A?(0,x.jsx)("div",{className:"container py-4",children:(0,x.jsx)("div",{className:"row",children:0!==A.length?(0,x.jsxs)(x.Fragment,{children:[" ",A.map((function(e){return(0,x.jsx)("div",{className:"col-md-3 ",children:(0,x.jsxs)("div",{className:"product px-2 py-3 rounded",children:[(0,x.jsxs)(l.rU,{to:"/product-details/"+e.id,children:[(0,x.jsxs)("figure",{className:"position-relative rounded",children:[(0,x.jsx)(f.LazyLoadImage,{src:e.imageCover,className:"w-100  rounded ",alt:e.category.name,effect:"blur"}),e.priceAfterDiscount&&e.priceAfterDiscount!==e.price?(0,x.jsx)("span",{className:"sale badge text-bg-danger position-absolute top-0 end-0 rounded",children:"Sale"}):""]}),(0,x.jsx)("p",{className:"text-main  my-0 ",children:e.category.name})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)("p",{className:"text-primary fs-7",children:e.brand.name}),P(e.id)?(0,x.jsx)("i",{className:"fa-solid text-danger fa-heart pe-3 cursor-pointer",onClick:function(){!function(e){F.apply(this,arguments)}(e.id)}}):(0,x.jsx)("i",{className:"fa-regular fa-heart pe-3 cursor-pointer",onClick:function(){!function(e){U.apply(this,arguments)}(e.id)}})]}),(0,x.jsxs)(l.rU,{to:"/product-details/"+e.id,children:[e.priceAfterDiscount&&e.priceAfterDiscount!==e.price?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{className:"d-flex align-items-center fw-bold mb-0 me-2",children:[(0,x.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,x.jsx)("span",{className:"fs-5 mx-0 px-0",children:e.priceAfterDiscount.toLocaleString()}),(0,x.jsx)("sup",{className:"pt-2",children:"00"})]}),(0,x.jsxs)("p",{className:"text-decoration-line-through text-muted d-flex align-items-center mb-2 p-0 me-2",children:[(0,x.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,x.jsx)("span",{className:"fs-6 mx-0 px-0",children:e.price.toLocaleString()}),(0,x.jsx)("sup",{className:"pt-2",children:"00"})]})]}):(0,x.jsxs)("p",{className:"d-flex align-items-center fw-bold p-0 me-2  pb-3",children:[(0,x.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,x.jsx)("span",{className:"fs-5 mx-0 px-0",children:e.price.toLocaleString()}),(0,x.jsx)("sup",{className:"pt-2",children:"00"})]}),(0,x.jsx)("h3",{className:"h6 text-truncate",children:e.title}),(0,x.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsxs)("span",{className:"ms-2 mt-1 pt-0",children:[" ",(0,x.jsx)(m.Q,{outlined:!0,height:"30",width:"15",rating:e.ratingsAverage})]}),(0,x.jsx)("span",{className:"ms-2 mt-0 pt-0",children:e.ratingsQuantity})]})})]}),S(e.id)?(0,x.jsx)("button",{onClick:function(){return function(e){return L.apply(this,arguments)}(e.id)},className:"btn bg-danger text-white w-100",children:"Remove from cart"}):(0,x.jsx)("button",{onClick:function(){return function(e){return D.apply(this,arguments)}(e.id)},className:"btn bg-main text-white w-100",children:"+ Add to cart"})]})},e._id)}))]}):(0,x.jsx)("h2",{children:"No products "})})}):(0,x.jsx)(p.default,{})]})}}}]);
//# sourceMappingURL=237.221ede5f.chunk.js.map