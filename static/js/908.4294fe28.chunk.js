/*! For license information please see 908.4294fe28.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[908],{9597:function(e,t,r){var a=r(1413),n=(r(2791),r(8175)),l=r(184);t.Z=function(e){return(0,l.jsxs)(n.ZP,(0,a.Z)((0,a.Z)({speed:2,width:376,height:124,viewBox:"0 0 476 124",backgroundColor:"#d2d0d0",foregroundColor:"#f3f2f2"},e),{},{children:[(0,l.jsx)("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),(0,l.jsx)("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"310",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"280",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),(0,l.jsx)("circle",{cx:"20",cy:"20",r:"20"}),(0,l.jsx)("rect",{x:"27",y:"27",rx:"0",ry:"0",width:"1",height:"0"})]}))}},7908:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var a=r(4165),n=r(5861),l=r(9439),s=r(2791),i=r(9190),o=r(5218),c=(r(6536),r(7689)),d=r(1087),u={yellowGreen:"Checkout_yellowGreen__3i08S",blueInput:"Checkout_blueInput__2Quvo",radioLabel:"Checkout_radioLabel__RMLEK"},m=r(1243),h=r(5705),p=r(9597),f=r(4270),x=r(184);function v(){var e,t,r,v=(0,c.s0)(),b=(0,s.useContext)(i.o),g=b.getLoggedUserCart,y=b.setCounter,j=b.headers,N=b.handleBaseUrl,w=b.baseUrl,E=(0,s.useState)(null),k=(0,l.Z)(E,2),C=k[0],O=k[1],Z=(0,s.useState)(),S=(0,l.Z)(Z,2),P=S[0],_=S[1],I=(0,s.useState)(null),L=(0,l.Z)(I,2),R=(L[0],L[1]),T=(0,s.useState)(!1),U=(0,l.Z)(T,2),A=(U[0],U[1]);(0,h.TA)({initialValues:{name:"",details:"",phone:"",city:""},onSubmit:function(e){!function(e){B.apply(this,arguments)}(e),A(!0)}});function G(){return F.apply(this,arguments)}function F(){return(F=(0,n.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("".concat(w,"/api/v1/addresses"),{headers:j}).catch((function(e){console.log("getLoggedUserAddress Error",e.code),"ERR_NETWORK"===e.code&&N(w)}));case 2:t=e.sent,r=t.data,_(r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.post("".concat(w,"/api/v1/addresses"),{name:t.name,details:t.details,phone:t.phone,city:t.city},{headers:j}).catch((function(e){var t,r,a,n,l;if(console.log("addUserAddress Error",e),"ERR_NETWORK"===e.code&&N(w),400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status))R(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n||null===(l=n.errors)||void 0===l?void 0:l.msg),o.Am.error(e.response.data.errors.msg,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}});else if(401===(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)){var s,i;R(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data.message),o.Am.error(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}})}}));case 2:r=e.sent,n=r.message,console.log("message",n),o.Am.success(n,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}),G(),A(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=(0,n.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:"success"===(null===(r=e.sent)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)&&(O(r.data.data),y(r.data.data.products.length));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){K.apply(this,arguments)}(),G()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(f.q,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:"Checkout"})]}),(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("div",{className:"row py-3 d-flex",children:[(0,x.jsxs)("div",{className:"col-md-7 order-2 order-sm-1 col-12",children:[(0,x.jsx)("h3",{className:"fw-bold pt-2 mb-3",children:"Sopas"}),(0,x.jsxs)("h6",{className:"mb-3",children:["information ",(0,x.jsx)("i",{className:"fa-solid fa-angle-right"})," Shipping ",(0,x.jsx)("i",{className:"fa-solid fa-angle-right"})," Payment"]}),(0,x.jsx)("h6",{className:"mb-3",children:"Contact information"}),(0,x.jsxs)("div",{className:"form-group mb-3",children:[(0,x.jsx)("input",{type:"email",className:"form-control mb-3 py-2 ".concat(u.blueInput," rounded-pill"),placeholder:"Email Address",id:"email",name:"email",defaultValue:localStorage.getItem("userMail")}),(0,x.jsx)("label",{htmlFor:"email",className:"fw-semibold",children:"Email"})]}),(0,x.jsx)("hr",{}),(0,x.jsx)(h.J9,{initialValues:{picked:""},onSubmit:function(e){localStorage.setItem("addressId",e.picked),v("/shipping")},children:function(e){e.values;return(0,x.jsxs)(h.l0,{children:[(0,x.jsx)("div",{id:"my-radio-group",children:(0,x.jsx)("h6",{className:"mb-3",children:"Shipping address"})}),(0,x.jsx)("div",{role:"group","aria-labelledby":"my-radio-group",children:(null===P||void 0===P?void 0:P.length)>=1?P.map((function(e,t){return(0,x.jsxs)("label",{className:"radioLabel",children:[(0,x.jsx)(h.gN,{type:"radio",name:"picked",value:e._id}),(0,x.jsxs)("p",{className:"h5 d-inline ps-2",children:[e.name," "]}),(0,x.jsxs)("div",{className:"row mx-auto mb-5",children:[(0,x.jsx)("div",{className:"d-flex justify-content-between  mb-3"}),(0,x.jsxs)("div",{className:"form-group  col-md-12",children:[(0,x.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(u.blueInput,"  rounded-pill"),readOnly:!0,placeholder:"details",id:"details".concat(t),name:"details",value:e.details}),(0,x.jsx)("label",{htmlFor:"details".concat(t),className:"fw-semibold rounded",children:"Details"})]}),(0,x.jsxs)("div",{className:"form-group  col-md-6",children:[(0,x.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(u.blueInput,"  rounded-pill"),readOnly:!0,placeholder:"city",id:"city".concat(t),name:"city",value:e.city}),(0,x.jsx)("label",{htmlFor:"city".concat(t),className:"fw-semibold rounded",children:"City"})]}),(0,x.jsxs)("div",{className:"form-group  col-md-6",children:[(0,x.jsx)("input",{type:"tel",className:"form-control mb-3 py-2 ".concat(u.blueInput,"  rounded-pill"),readOnly:!0,placeholder:"phone",id:"phone".concat(t),name:"phone",value:e.phone}),(0,x.jsx)("label",{htmlFor:"phone".concat(t),className:"fw-semibold rounded",children:"Phone"})]})]},t)]},t)})):(0,x.jsx)("p",{className:"h5 mb-3",children:"user has no registered addresses"})}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("button",{className:"rounded-pill bg-prim p-2  w-auto",type:"submit",children:"Continue to shipping"})})]})}})]}),(0,x.jsxs)("div",{className:"col-md-5 ".concat(u.yellowGreen," rounded order-sm-2 order-1 col-12 mb-5"),children:[(0,x.jsx)("h3",{className:"fw-bold pt-2 mb-3",children:"Checkout cart"}),C?null===C||void 0===C||null===(e=C.products)||void 0===e?void 0:e.map((function(e){return(0,x.jsxs)(d.rU,{to:"/product-details/".concat(e.product._id),className:"row  align-items-center border-bottom py-2",children:[(0,x.jsx)("div",{className:"col-2",children:(0,x.jsx)("img",{src:e.product.imageCover,className:"w-100 h-100 rounded-2",alt:e.product.title})}),(0,x.jsxs)("div",{className:"col-10  row ",children:[(0,x.jsxs)("div",{className:"col-9  pt-2",children:[(0,x.jsx)("h6",{className:"  fw-bold",children:e.product.title}),null!=e.product.brand?(0,x.jsx)("h6",{className:"mb-3  text-muted",children:e.product.brand.name}):(0,x.jsx)("h6",{className:"mb-3  text-muted"})]}),(0,x.jsx)("div",{className:"text-end col-3 pt-2",children:(0,x.jsxs)("h6",{className:"fw-bold",children:["EGP ",e.price.toLocaleString()]})})]})]},e.product._id)})):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{}),(0,x.jsx)(p.Z,{}),(0,x.jsx)(p.Z,{})," "]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between pt-3 mb-3",children:[(0,x.jsx)("h6",{className:"  ",children:"Subtotal "}),(0,x.jsxs)("h6",{className:"   ",children:[" ",null===C||void 0===C||null===(t=C.totalCartPrice)||void 0===t?void 0:t.toLocaleString()," EGP"]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between border-bottom mb-3",children:[(0,x.jsx)("h6",{className:"   ",children:"Shipping ?"}),(0,x.jsx)("h6",{className:"   ",children:"calculated at next step"})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between pt-3 mb-3",children:[(0,x.jsx)("h6",{className:"  fw-bold ",children:"Total "}),(0,x.jsxs)("h6",{className:"  fw-bold ",children:[" ",null===C||void 0===C||null===(r=C.totalCartPrice)||void 0===r?void 0:r.toLocaleString()," EGP"]})]})]})]})})]})}},8175:function(e,t,r){var a=r(2791),n=function(){return n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)};var l=function(e){var t=e.animate,r=void 0===t||t,l=e.animateBegin,s=e.backgroundColor,i=void 0===s?"#f5f6f7":s,o=e.backgroundOpacity,c=void 0===o?1:o,d=e.baseUrl,u=void 0===d?"":d,m=e.children,h=e.foregroundColor,p=void 0===h?"#eee":h,f=e.foregroundOpacity,x=void 0===f?1:f,v=e.gradientRatio,b=void 0===v?2:v,g=e.gradientDirection,y=void 0===g?"left-right":g,j=e.uniqueKey,N=e.interval,w=void 0===N?.25:N,E=e.rtl,k=void 0!==E&&E,C=e.speed,O=void 0===C?1.2:C,Z=e.style,S=void 0===Z?{}:Z,P=e.title,_=void 0===P?"Loading...":P,I=e.beforeMask,L=void 0===I?null:I,R=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),T=j||Math.random().toString(36).substring(6),U=T+"-diff",A=T+"-animated-diff",G=T+"-aria",F=k?{transform:"scaleX(-1)"}:null,B="0; "+w+"; 1",K=O+"s",M="top-bottom"===y?"rotate(90)":void 0;return(0,a.createElement)("svg",n({"aria-labelledby":G,role:"img",style:n(n({},S),F)},R),_?(0,a.createElement)("title",{id:G},_):null,L&&(0,a.isValidElement)(L)?L:null,(0,a.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+u+"#"+U+")",style:{fill:"url("+u+"#"+A+")"}}),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:U},m),(0,a.createElement)("linearGradient",{id:A,gradientTransform:M},(0,a.createElement)("stop",{offset:"0%",stopColor:i,stopOpacity:c},r&&(0,a.createElement)("animate",{attributeName:"offset",values:-b+"; "+-b+"; 1",keyTimes:B,dur:K,repeatCount:"indefinite",begin:l})),(0,a.createElement)("stop",{offset:"50%",stopColor:p,stopOpacity:x},r&&(0,a.createElement)("animate",{attributeName:"offset",values:-b/2+"; "+-b/2+"; "+(1+b/2),keyTimes:B,dur:K,repeatCount:"indefinite",begin:l})),(0,a.createElement)("stop",{offset:"100%",stopColor:i,stopOpacity:c},r&&(0,a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+b),keyTimes:B,dur:K,repeatCount:"indefinite",begin:l})))))},s=function(e){return e.children?(0,a.createElement)(l,n({},e)):(0,a.createElement)(i,n({},e))},i=function(e){return(0,a.createElement)(s,n({viewBox:"0 0 476 124"},e),(0,a.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=s}}]);
//# sourceMappingURL=908.4294fe28.chunk.js.map