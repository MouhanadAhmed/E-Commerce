{"version":3,"file":"static/js/600.2711b619.chunk.js","mappings":"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","sources":["webpack://session/./src/Components/Authentication/Login/Login.module.css?044a","Components/Authentication/Login/Login.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"width\":\"Login_width__ykwvk\",\"blueInput\":\"Login_blueInput__7nWG3\",\"redInput\":\"Login_redInput__5EQUO\"};","import axios from 'axios';\r\nimport { useFormik } from 'formik';\r\nimport React, { useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport * as Yup from 'yup'\r\nimport styles from './Login.module.css'\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nexport default function Login({saveUserData}) {\r\n\r\n  const [loading,setLoading]=useState(false);\r\n  const [error,setError]= useState(null);\r\n  const navigate = useNavigate(\"\");\r\n  const [showPassword,setShowPassword]=useState(false);\r\n  const [eyeBtn,setEyeBtn] = useState(\"fa-eye\")\r\n\r\n  let mySchema = Yup.object({\r\n    email:Yup.string().email(\"Invalid Email\").required(\"Email is required\"),\r\n    password:Yup.string().matches(/^[A-Z][a-z0-9]{3,8}$/,\"Invalid Password\").required(\"Password is required\"),\r\n  })\r\n\r\n  let formik = useFormik({\r\n     initialValues:{ \r\n      email:\"\",\r\n      password:\"\",\r\n     },validationSchema:mySchema,\r\n     onSubmit:(values)=>{\r\n      login(values);\r\n      localStorage.setItem(\"userMail\",values.email);\r\n    }\r\n  })\r\n\r\n  async function login(values){\r\n    setLoading(true);\r\n    setError(null);\r\n    let {data} =await axios.post('https://ecommerce.routemisr.com/api/v1/auth/signin',values).catch((err)=> {\r\n      // setError(err.response.data.errors.param +\": \"+ err.response.data.errors.msg);\r\n      setLoading(false);\r\n      setError(err.response.data.message);\r\n    })\r\n    console.log(data);\r\n    if(data.message === 'success'){\r\n    localStorage.setItem(\"userToken\",data.token)\r\n    saveUserData( );\r\n    // console.log(data.message);\r\n      navigate('/');\r\n    setLoading(false);\r\n\r\n    }\r\n  }\r\n\r\n  function toggleShowPassword(){\r\n    if(showPassword === true){\r\n      setShowPassword(false);\r\n      setEyeBtn(\"fa-eye\")\r\n    }else {\r\n      setShowPassword(true);\r\n      setEyeBtn(\"fa-eye-slash\")\r\n    };\r\n  }\r\n\r\n  return (<>\r\n      <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Login</title>\r\n            </Helmet>\r\n    <div className={`containe my-5   m-auto rounded p-3 ${styles.width}`}>\r\n      <h3 className='fw-bold mb-3'>Sign in</h3>\r\n\r\n      {error?<div className='alert alert-danger'>{error}</div>:\"\"}\r\n\r\n      <form onSubmit={formik.handleSubmit} className='w-100'>\r\n      <div className=\"form-group\">\r\n      <input type=\"email\" className={`form-control mb-3 py-2 ${styles.blueInput} rounded-pill`}  placeholder='Email Address' id='email'name='email' value={formik.values.email} onChange={formik.handleChange} onBlur={formik.handleBlur}/>\r\n      <label htmlFor=\"email\" className='fw-semibold'>Email</label>\r\n      </div>\r\n      {formik.errors.email && formik.touched.email?<div className='alert alert-danger'>{formik.errors.email}</div>:\"\" }\r\n\r\n      <div className=\"form-group  position-relative\">\r\n      <input type={showPassword?\"text\":\"password\"} className={`form-control mb-3 py-2 ${styles.redInput}  rounded-pill`} placeholder='Password' id='password'name='password' value={formik.values.password} onChange={formik.handleChange} onBlur={formik.handleBlur}/>\r\n      <label htmlFor=\"password\" className='fw-semibold'>Password</label>\r\n      \r\n      <i className={`far ${eyeBtn} cursor-pointer position-absolute`} id=\"togglePassword\" onClick={()=>toggleShowPassword()}></i>\r\n      \r\n      </div>\r\n      {formik.errors.password && formik.touched.password?<div className='alert alert-danger'>{formik.errors.password}</div>:\"\" }\r\n\r\n\r\n        <button className='btn w-100 mb-3  rounded-pill bg-prim' type='submit'>{loading?<i className='fa fa-spinner fa-spin'></i>:\"Sign in\"}</button>\r\n      </form>\r\n      <h4 className='fs-6 pb-3'><Link to=\"/forgotPassword\" className='text-primary  ms-2' >Forgot your password?</Link> </h4>\r\n      <hr />\r\n      {/* <h4 className='fs-6 border-bottom pb-3 mb-3'>By creating an account, you agree to Amazon's Conditions of Use and Privacy Notice.</h4> */}\r\n      <h4 className='fs-6 pb-3'>New to SOPA?<Link to=\"/register\" className='text-primary text-decoration-underline ms-2' >Create an Account</Link> </h4>\r\n     \r\n    </div>\r\n    </> )\r\n}\r\n"],"names":["Login","_ref","saveUserData","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","navigate","useNavigate","_useState5","_useState6","showPassword","setShowPassword","_useState7","_useState8","eyeBtn","setEyeBtn","mySchema","Yup","email","required","password","matches","formik","useFormik","initialValues","validationSchema","onSubmit","values","_x","_login","apply","arguments","login","localStorage","setItem","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$post$cat","data","wrap","_context","prev","next","axios","catch","err","response","message","sent","console","log","token","stop","_jsxs","_Fragment","children","Helmet","_jsx","charSet","className","concat","styles","handleSubmit","type","placeholder","id","name","value","onChange","handleChange","onBlur","handleBlur","htmlFor","errors","touched","onClick","Link","to"],"sourceRoot":""}