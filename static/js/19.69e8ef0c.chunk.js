/*! For license information please see 19.69e8ef0c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[19,281,165,950,156],{9597:function(e,a,s){var r=s(1413),t=(s(2791),s(8175)),l=s(184);a.Z=function(e){return(0,l.jsxs)(t.ZP,(0,r.Z)((0,r.Z)({speed:2,width:376,height:124,viewBox:"0 0 476 124",backgroundColor:"#d2d0d0",foregroundColor:"#f3f2f2"},e),{},{children:[(0,l.jsx)("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),(0,l.jsx)("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"310",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"280",height:"6"}),(0,l.jsx)("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),(0,l.jsx)("circle",{cx:"20",cy:"20",r:"20"}),(0,l.jsx)("rect",{x:"27",y:"27",rx:"0",ry:"0",width:"1",height:"0"})]}))}},156:function(e,a,s){s.r(a),s.d(a,{default:function(){return h}});var r=s(4165),t=s(5861),l=s(9439),n=s(2791),o={width:"AccountSettings_width__b8340",blueInput:"AccountSettings_blueInput__+BVhK",redInput:"AccountSettings_redInput__7n3x0"},i=s(1243),d=s(5705),c=s(6727),u=s(5218),m=s(4270),p=s(184);function h(){var e=(0,n.useState)({createdAt:"",email:"",name:"",_id:""}),a=(0,l.Z)(e,2),s=(a[0],a[1]),h=(0,n.useState)(!1),x=(0,l.Z)(h,2),f=x[0],v=x[1],b=(0,n.useState)("fa-eye"),g=(0,l.Z)(b,2),j=g[0],y=g[1],N=(0,n.useState)(!1),w=(0,l.Z)(N,2),k=w[0],Z=w[1],P=(0,n.useState)(null),_=(0,l.Z)(P,2),I=(_[0],_[1]),S=(0,n.useState)("d-none"),C=(0,l.Z)(S,2),E=(C[0],C[1],(0,n.useState)("Update personal information")),B=(0,l.Z)(E,2),A=B[0],O=(B[1],(0,n.useState)("disabled")),M=(0,l.Z)(O,2),F=(M[0],M[1],{token:localStorage.getItem("userToken")}),U=c.Ry({name:c.Z_().required("Name is required").min(3,"min 3 charcters").max(15,"maximum 15 charcters"),email:c.Z_().email("Invalid Email").required("Email is required"),phone:c.Z_().required("Phone is required").matches(/^01[0125][0-9]{8}$/,"Invalid Phone")}),q=c.Ry({currentPassword:c.Z_().matches(/^[A-Z][a-z0-9]{3,8}$/,"Invalid Password").required("current Password is required"),password:c.Z_().matches(/^[A-Z][a-z0-9]{3,8}$/,"Invalid Password").required("Password is required"),rePassword:c.Z_().required("Password is required").oneOf([c.iH("password")],"RePassword must match password")}),D=(0,d.TA)({initialValues:{name:"",email:"",phone:""},validationSchema:U,onSubmit:function(e){return function(e){return R.apply(this,arguments)}(e)}}),T=(0,d.TA)({initialValues:{currentPassword:"",password:"",rePassword:""},validationSchema2:q,onSubmit:function(e){return function(e){return L.apply(this,arguments)}(e)}});function R(){return(R=(0,t.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,i.Z.put("https://route-ecommerce.onrender.com/api/v1/users/updateMe/",{name:a.name,email:a.email,phone:a.phone},{headers:F}).catch((function(e){Z(!1),console.log(e),u.ZP.error(e.response.data.errors.msg,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}),I(e.response.data.message)}));case 3:s=e.sent,console.log(s),"success"===(null===s||void 0===s?void 0:s.message)&&(u.ZP.success(s.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}),Z(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=(0,t.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,i.Z.put("https://route-ecommerce.onrender.com/api/v1/users/changeMyPassword",{currentPassword:a.currentPassword,password:a.password,rePassword:a.rePassword},{headers:F}).catch((function(e){var a,s,r,t,l,n,o,i,d;if(Z(!1),console.log(e),400==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&I(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r||null===(t=r.errors)||void 0===t?void 0:t.msg),400===(null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.status))I(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i||null===(d=i.errors)||void 0===d?void 0:d.msg),u.ZP.error(e.response.data.errors.msg,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}});else if(401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)){var c,m;I(null===e||void 0===e||null===(c=e.response)||void 0===c?void 0:c.data.message),u.ZP.error(null===e||void 0===e||null===(m=e.response)||void 0===m?void 0:m.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}})}}));case 3:s=e.sent,console.log("updateLoggedUserPassword response",s),"success"===s.data.message&&(console.log("response.data.message",s.data.message),u.ZP.success(s.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}),Z(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=(0,t.Z)((0,r.Z)().mark((function e(){var a,t,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("mail"),e.next=3,i.Z.get("https://ecommerce.routemisr.com/api/v1/users?email=".concat(a)).catch((function(e){console.log("err",e)}));case 3:t=e.sent,l=t.data,s(l.users[0]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.useEffect)((function(){!function(){V.apply(this,arguments)}()})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"Account settings"})]}),(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"row py-5",children:[(0,p.jsx)("h2",{className:"ps-3 mb-5",children:"Account settings"}),(0,p.jsxs)("div",{className:"accordion accordion-flush",id:"accordionFlushExample",children:[(0,p.jsxs)("div",{className:"accordion-item",children:[(0,p.jsx)("h2",{className:"accordion-header",children:(0,p.jsx)("button",{className:"accordion-button collapsed h5",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:"Update personal information"})}),(0,p.jsx)("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample",children:(0,p.jsx)("div",{className:"accordion-body",children:(0,p.jsx)("form",{onSubmit:D.handleSubmit,children:(0,p.jsxs)("div",{className:"row mb-5",children:[(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(o.blueInput," rounded-pill"),placeholder:"Your Name",id:"name",name:"name",value:D.values.name,onChange:D.handleChange,onBlur:D.handleBlur}),(0,p.jsx)("label",{htmlFor:"name",className:"fw-semibold",children:"Your name"}),D.errors.name&&D.touched.name?(0,p.jsx)("div",{className:"alert alert-danger",children:D.errors.name}):""]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"email",className:"form-control mb-3 py-2 ".concat(o.blueInput," rounded-pill"),placeholder:"Email Address",id:"email",name:"email",value:D.values.email,onChange:D.handleChange,onBlur:D.handleBlur}),(0,p.jsx)("label",{htmlFor:"email",className:"fw-semibold",children:"Email Address"}),D.errors.email&&D.touched.email?(0,p.jsx)("div",{className:"alert alert-danger",children:D.errors.email}):""]}),(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("input",{type:"tel",className:"form-control mb-3 py-2 ".concat(o.blueInput," rounded-pill"),placeholder:"Mobile number",id:"phone",name:"phone",value:D.values.phone,onChange:D.handleChange,onBlur:D.handleBlur}),(0,p.jsx)("label",{htmlFor:"phone",className:"fw-semibold",children:"Mobile number"}),D.errors.phone&&D.touched.phone?(0,p.jsx)("div",{className:"alert alert-danger",children:D.errors.phone}):""]}),(0,p.jsx)("div",{className:"col-md-6 d-flex justify-content-center",children:k?(0,p.jsx)("button",{className:"".concat(o.button," rounded-pill  mb-3"),type:"submit",children:(0,p.jsx)("i",{className:"fa fa-spinner fa-spin"})}):(0,p.jsx)("button",{disabled:!D.isValid&&D.dirty,className:"rounded-pill mb-3 bg-prim",type:"submit",children:A})})]})})})})]}),(0,p.jsxs)("div",{className:"accordion-item",children:[(0,p.jsx)("h2",{className:"accordion-header",children:(0,p.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo",children:"Update password"})}),(0,p.jsx)("div",{id:"flush-collapseTwo",className:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample",children:(0,p.jsx)("div",{className:"accordion-body",children:(0,p.jsxs)("form",{onSubmit:T.handleSubmit,children:[(0,p.jsxs)("div",{className:"form-group position-relative",children:[(0,p.jsx)("input",{type:f?"text":"password",className:"form-control mb-3 py-2 ".concat(o.redInput," rounded-pill"),placeholder:" Current Password",id:"currentPassword",name:"currentPassword",value:T.values.currentPassword,onChange:T.handleChange,onBlur:T.handleBlur}),(0,p.jsx)("label",{htmlFor:"currentPassword",className:"fw-semibold",children:"    Current Password"}),(0,p.jsx)("i",{className:"far ".concat(j," cursor-pointer position-absolute"),id:"togglePassword",onClick:function(){!0===f?(v(!1),y("fa-eye")):(v(!0),y("fa-eye-slash"))}})]}),T.errors.currentPassword&&T.touched.currentPassword?(0,p.jsx)("div",{className:"alert alert-danger",children:T.errors.currentPassword}):"",(0,p.jsxs)("div",{className:"form-group position-relative",children:[(0,p.jsx)("input",{type:f?"text":"password",className:"form-control mb-3 py-2 ".concat(o.redInput,"  rounded-pill rounded-pill"),placeholder:"Password",id:"password",name:"password",value:T.values.password,onChange:T.handleChange,onBlur:T.handleBlur}),(0,p.jsx)("label",{htmlFor:"password",className:"fw-semibold",children:"Password"})]}),T.errors.password&&T.touched.password?(0,p.jsx)("div",{className:"alert alert-danger",children:T.errors.password}):"",(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("input",{type:f?"text":"password",className:"form-control mb-3 py-2 ".concat(o.redInput,"  rounded-pill"),placeholder:"rePassword",id:"rePassword",name:"rePassword",value:T.values.rePassword,onChange:T.handleChange,onBlur:T.handleBlur}),(0,p.jsx)("label",{htmlFor:"rePassword",className:"fw-semibold ",children:"Re-enter password"})]}),T.errors.rePassword&&T.touched.rePassword?(0,p.jsx)("div",{className:"alert alert-danger",children:T.errors.rePassword}):"",(0,p.jsx)("div",{className:"d-flex justify-content-center",children:k?(0,p.jsx)("button",{className:"".concat(o.button," btn w-100 mb-3"),type:"submit",children:(0,p.jsx)("i",{className:"fa fa-spinner fa-spin"})}):(0,p.jsx)("button",{disabled:!T.isValid&&T.dirty,className:"btn  mx-auto mb-3 bg-prim rounded-pill",type:"submit",children:"Update Password"})})]})})})]})]})]})})]})}},1165:function(e,a,s){s.r(a),s.d(a,{default:function(){return h}});var r=s(4165),t=s(5861),l=s(9439),n=s(2791),o=s(9190),i=s(1243),d={width:"MyAddressBook_width__NejDW",blueInput:"MyAddressBook_blueInput__UOy6W",redInput:"MyAddressBook_redInput__cJ3Rl",darkBlueInput:"MyAddressBook_darkBlueInput__f+iVY"},c=s(5218),u=s(5705),m=s(4270),p=s(184);function h(){var e=(0,n.useContext)(o.o),a=e.baseUrl,s=e.handleBaseUrl,h=(0,n.useState)(),x=(0,l.Z)(h,2),f=x[0],v=x[1],b=(0,n.useState)(null),g=(0,l.Z)(b,2),j=g[0],y=g[1],N=(0,n.useState)(!1),w=(0,l.Z)(N,2),k=w[0],Z=w[1],P={token:localStorage.getItem("userToken")},_=(0,u.TA)({initialValues:{name:"",details:"",phone:"",city:""},onSubmit:function(e){!function(e){E.apply(this,arguments)}(e),Z(!0)}});function I(){return S.apply(this,arguments)}function S(){return(S=(0,t.Z)((0,r.Z)().mark((function e(){var t,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(a,"/api/v1/addresses"),{headers:P}).catch((function(e){console.log("getLoggedUserAddress Error",e.code),"ERR_NETWORK"===e.code&&s(a)}));case 2:t=e.sent,l=t.data,v(l.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=(0,t.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete("https://ecommerce.routemisr.com/api/v1/addresses/".concat(a),{headers:P}).catch((function(e){return console.log(e)}));case 2:s=e.sent,console.log("message",s.data.message),I(),c.ZP.success(s.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,t.Z)((0,r.Z)().mark((function e(t){var l,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post("".concat(a,"/api/v1/addresses"),{name:t.name,details:t.details,phone:t.phone,city:t.city},{headers:P}).catch((function(e){var r,t,l,n,o;if(console.log("addUserAddress Error",e),"ERR_NETWORK"===e.code&&s(a),400===(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status))y(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.errors)||void 0===o?void 0:o.msg),c.ZP.error(e.response.data.errors.msg,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}});else if(401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var i,d;y(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data.message),c.ZP.error(null===e||void 0===e||null===(d=e.response)||void 0===d?void 0:d.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}})}}));case 2:l=e.sent,n=l.message,console.log("message",n),c.ZP.success(n,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}}),I(),Z(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.useEffect)((function(){I()}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"Address book"})]}),(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"row py-5",children:[(0,p.jsx)("h3",{className:"mb-5",children:"My Address Book"}),(null===f||void 0===f?void 0:f.length)>=1?f.map((function(e,a){return(0,p.jsxs)("div",{className:"row mx-auto mb-5",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between  mb-3",children:[(0,p.jsxs)("p",{className:"h5 pt-3",children:["Address ",a+1]}),(0,p.jsx)("button",{className:"rounded-pill bg-danger text-white  w-auto",onClick:function(){return function(e){return C.apply(this,arguments)}(e._id)},children:"Remove address"})]}),(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.blueInput," rounded-pill"),disabled:!0,placeholder:"Address Name",id:"addressName",name:"addressName",value:e.name}),(0,p.jsx)("label",{htmlFor:"addressName",className:"fw-semibold rounded",children:"Address Name"})]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.blueInput,"  rounded-pill"),disabled:!0,placeholder:"details",id:"details",name:"details",value:e.details}),(0,p.jsx)("label",{htmlFor:"details",className:"fw-semibold rounded",children:"Details"})]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.blueInput,"  rounded-pill"),disabled:!0,placeholder:"city",id:"city",name:"city",value:e.city}),(0,p.jsx)("label",{htmlFor:"city",className:"fw-semibold rounded",children:"City"})]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"tel",className:"form-control mb-3 py-2 ".concat(d.blueInput,"  rounded-pill"),disabled:!0,placeholder:"phone",id:"phone",name:"phone",value:e.phone}),(0,p.jsx)("label",{htmlFor:"phone",className:"fw-semibold rounded",children:"Phone"})]})]},a)})):(0,p.jsx)("p",{className:"h5 mb-3",children:"user has no registered addresses"}),(0,p.jsx)("form",{onSubmit:_.handleSubmit,children:(0,p.jsxs)("div",{className:"row mx-auto",children:[j?(0,p.jsx)("div",{className:"alert alert-danger",children:j}):"",(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.darkBlueInput,"  rounded-pill"),placeholder:"Address Name",name:"name",value:_.values.name,onChange:_.handleChange,onBlur:_.handleBlur}),(0,p.jsx)("label",{htmlFor:"name",className:"fw-semibold",children:"Address Name"}),_.errors.name&&_.touched.name?(0,p.jsx)("div",{className:"alert alert-danger",children:_.errors.name}):""]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.darkBlueInput,"  rounded-pill"),placeholder:"details",id:"details",name:"details",value:_.values.details,onChange:_.handleChange,onBlur:_.handleBlur}),(0,p.jsx)("label",{htmlFor:"details",className:"fw-semibold rounded",children:"Details"})]}),_.errors.details&&_.touched.details?(0,p.jsx)("div",{className:"alert alert-danger",children:_.errors.details}):"",(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(d.darkBlueInput,"  rounded-pill"),placeholder:"city",id:"city",name:"city",value:_.values.city,onChange:_.handleChange,onBlur:_.handleBlur}),(0,p.jsx)("label",{htmlFor:"city",className:"fw-semibold rounded",children:"City"})]}),(0,p.jsxs)("div",{className:"form-group  col-md-6",children:[(0,p.jsx)("input",{type:"tel",className:"form-control mb-3 py-2 ".concat(d.darkBlueInput,"  rounded-pill"),placeholder:"phone",name:"phone",value:_.values.phone,onChange:_.handleChange,onBlur:_.handleBlur}),(0,p.jsx)("label",{htmlFor:"phone",className:"fw-semibold rounded ",children:"Phone"})]}),(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)("button",{className:"rounded-pill bg-prim p-2  w-auto",type:"submit",children:k?(0,p.jsx)("i",{className:"fa fa-spinner fa-spin"}):"Add address"})})]})})]})})]})}},7281:function(e,a,s){s.r(a),s.d(a,{default:function(){return u}});var r=s(4165),t=s(5861),l=s(9439),n=s(1243),o=s(2791),i={width:"MyDetails_width__HLNQn",blueInput:"MyDetails_blueInput__k8IXr",redInput:"MyDetails_redInput__DF2pf"},d=s(4270),c=s(184);function u(){var e=(0,o.useState)({createdAt:"",email:"",name:"",_id:""}),a=(0,l.Z)(e,2),s=a[0],u=a[1];function m(){return(m=(0,t.Z)((0,r.Z)().mark((function e(){var a,s,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userMail"),e.next=3,n.Z.get("https://ecommerce.routemisr.com/api/v1/users?email=".concat(a)).catch((function(e){console.log("err",e)}));case 3:s=e.sent,t=s.data,u(t.users[0]),localStorage.setItem("userId",t.users[0]._id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){m.apply(this,arguments)}()})),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.q,{children:[(0,c.jsx)("meta",{charSet:"utf-8"}),(0,c.jsx)("title",{children:"User details"})]}),(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"row py-5",children:[(0,c.jsx)("h2",{className:"ps-3 mb-5",children:"My Details"}),(0,c.jsx)("h5",{className:"mb-2",children:"Personal information"}),(0,c.jsx)("hr",{className:"mb-5"}),(0,c.jsxs)("div",{className:"form-group col-md-6",children:[(0,c.jsx)("input",{type:"text",className:"form-control mb-3 py-2 ".concat(i.blueInput," rounded-pill"),disabled:!0,id:"MyDetailsName",name:"name",value:null===s||void 0===s?void 0:s.name}),(0,c.jsx)("label",{htmlFor:"name",className:"fw-semibold rounded",children:"Name"})]}),(0,c.jsxs)("div",{className:"form-group  col-md-6",children:[(0,c.jsx)("input",{type:"email",className:"form-control mb-3 py-2 ".concat(i.blueInput," rounded-pill"),disabled:!0,id:"MyDetailsEmail",name:"email",value:null===s||void 0===s?void 0:s.email}),(0,c.jsx)("label",{htmlFor:"email",className:"fw-semibold rounded",children:"Email"})]})]})})]})}},4950:function(e,a,s){s.r(a),s.d(a,{default:function(){return h}});var r=s(4165),t=s(5861),l=s(9439),n=s(1243),o=s(2791),i=s(9190),d={text:"MyOrders_text__2vS4E"},c=s(4270),u=s(1087),m=s(9597),p=s(184);function h(){var e=(0,o.useState)(),a=(0,l.Z)(e,2),s=a[0],h=a[1],x=(0,o.useContext)(i.o).baseUrl,f=localStorage.getItem("userId");function v(){return(v=(0,t.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.Z.get("".concat(x,"/api/v1/orders/user/").concat(f)).catch((function(e){return console.log(e)}));case 2:a=e.sent,h(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,t.Z)((0,r.Z)().mark((function e(){var a,s,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userMail"),e.next=3,n.Z.get("https://ecommerce.routemisr.com/api/v1/users?email=".concat(a)).catch((function(e){console.log("err",e)}));case 3:s=e.sent,t=s.data,localStorage.setItem("userId",t.users[0]._id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){b.apply(this,arguments)}(),function(){v.apply(this,arguments)}()}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"Orders"})]}),(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"row py-5  ps-3",children:[(0,p.jsx)("div",{className:"h3 mb-5",children:"My orders"}),(0,p.jsxs)("div",{className:"row text-center bg-prim text-white rounded pe-0 d-flex align-items-center",children:[(0,p.jsx)("div",{className:"col-1 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"index"})}),(0,p.jsx)("div",{className:"col-1 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"id"})}),(0,p.jsx)("div",{className:"col-3 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"Payment Method"})}),(0,p.jsx)("div",{className:"col-2 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"Sub total"})}),(0,p.jsx)("div",{className:"col-1 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"items "})}),(0,p.jsx)("div",{className:"col-1 px-0",children:(0,p.jsx)("h6",{className:d.text,children:"items "})})]}),null===s||void 0===s?void 0:s.map((function(e,a){var r,t;return(0,p.jsxs)("div",{className:"row text-center border-bottom pe-0 d-flex align-items-center",children:[(0,p.jsx)("div",{className:"col-1 bg-main rounded text-white  px-0",children:(0,p.jsx)("h6",{className:d.text,children:a+1})}),(0,p.jsx)("div",{className:"col-1  px-0",children:(0,p.jsx)("h6",{className:d.text,children:e.id})}),(0,p.jsx)("div",{className:"col-3  px-0",children:(0,p.jsx)("h6",{className:d.text,children:e.paymentMethodType})}),(0,p.jsx)("div",{className:"col-2  px-0",children:(0,p.jsx)("h6",{className:d.text,children:e.totalOrderPrice})}),(0,p.jsx)("div",{className:"col-1  px-0",children:(0,p.jsx)("h6",{className:d.text,children:e.cartItems.length})}),(0,p.jsx)("div",{className:"col-1 px-0",children:(0,p.jsx)("i",{className:"fa-solid fa-eye cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(a)})}),(0,p.jsx)("div",{className:"modal fade",id:"exampleModal".concat(a),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,p.jsx)("div",{className:"modal-dialog",children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsxs)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:["Order No: ",e.id]}),(0,p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,p.jsxs)("div",{className:"modal-body container",children:[s?null===(r=s[a])||void 0===r||null===(t=r.cartItems)||void 0===t?void 0:t.map((function(e,a){return(0,p.jsxs)("div",{className:"row  align-items-center border-bottom py-2",children:[(0,p.jsx)("div",{className:"col-2",children:(0,p.jsx)(u.rU,{to:"/product-details/".concat(e.product._id),children:(0,p.jsx)("img",{src:e.product.imageCover,className:"w-100  rounded-2",alt:e.product.title})},e.product._id)}),(0,p.jsxs)("div",{className:"col-10  row px-2",children:[(0,p.jsxs)("div",{className:"col-10  pt-2",children:[(0,p.jsxs)(u.rU,{to:"/product-details/".concat(e.product._id),children:[(0,p.jsx)("h6",{className:"h6  fw-bold",children:e.product.title}),(0,p.jsx)("h6",{className:"mb-3  text-muted",children:e.product.brand.name})," "]},e.product._id),(0,p.jsx)("div",{className:"d-flex justify-content-start align-items-center mb-3"})]}),(0,p.jsx)("div",{className:"text-center col-2 pt-2",children:(0,p.jsx)(u.rU,{to:"/product-details/".concat(e.product._id),children:(0,p.jsxs)("h6",{className:"fw-bold",children:["EGP ",e.price.toLocaleString()]})},e.product._id)})]})]},a)})):(0,p.jsx)(m.Z,{}),(0,p.jsxs)("h6",{className:"h3 ps-3 py-3 fw-bold",children:["Subtotal: ",s[a].totalOrderPrice.toLocaleString()," EGP"]})]}),(0,p.jsx)("div",{className:"modal-footer",children:(0,p.jsx)("button",{type:"button",className:"btn bg-prim","data-bs-dismiss":"modal",children:"Close"})})]})})})]},a)}))]})})]})}},8019:function(e,a,s){s.r(a),s.d(a,{default:function(){return c}});s(2791);var r={item:"UserProfile_item__BK0Ft",active:"UserProfile_active__i9JAd",link:"UserProfile_link__Qrl7m"},t=s(7281),l=s(1165),n=s(4950),o=s(156),i=s(4270),d=s(184);function c(){var e=[{path:"userProfile/myDetails",name:"My details",className:"d-flex mb-4 rounded-end rounded-5 ps-2 border nav-link active p-2 ".concat(r.link),icon:(0,d.jsx)("i",{className:"fa-solid fa-circle-user me-2"}),"data-bs-target":"#v-pills-myDetails","aria-controls":"v-pills-myDetails"},{path:"userProfile/myAddressBook",name:" My address book",className:"d-flex mb-4 rounded-end rounded-5 ps-2 border nav-link  p-2 ".concat(r.link),icon:(0,d.jsx)("i",{className:"fa-solid fa-location-pin me-2"}),"data-bs-target":"#v-pills-myAddressBook","aria-controls":"v-pills-myAddressBook"},{path:"userProfile/myOrders",name:" My orders",className:"d-flex mb-4 rounded-end rounded-5 ps-2 border nav-link  p-2 ".concat(r.link),icon:(0,d.jsx)("i",{className:"fa-solid fa-bag-shopping me-2"}),"data-bs-target":"#v-pills-myOrders","aria-controls":"v-pills-myOrders"},{path:"userProfile/accountSettings",name:" Account settings",className:"d-flex mb-4 rounded-end rounded-5 ps-2 border nav-link  p-2 ".concat(r.link),icon:(0,d.jsx)("i",{className:"fa-solid fa-gear me-2"}),"data-bs-target":"#v-pills-accountSettings","aria-controls":"v-pills-accountSettings"}];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.q,{children:[(0,d.jsx)("meta",{charSet:"utf-8"}),(0,d.jsx)("title",{children:"User profile"})]}),(0,d.jsx)("div",{className:"container ",children:(0,d.jsxs)("div",{className:"row py-5",children:[(0,d.jsx)("h2",{className:"fw-bold mb-5",children:"My Account"}),(0,d.jsx)("div",{className:"col-md-3 col-xxl-2",children:(0,d.jsx)("div",{className:"nav flex-column nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:e.map((function(e,a){return(0,d.jsxs)("button",{className:e.className,id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":e["data-bs-target"],type:"button",role:"tab","aria-controls":e["aria-controls"],"aria-selected":"true",children:[(0,d.jsx)("div",{className:"icon",children:e.icon}),(0,d.jsx)("div",{className:"link_text",children:e.name})]},a)}))})}),(0,d.jsx)("div",{className:"col-md-9 col-xxl-10 rounded shadow-lg",children:(0,d.jsxs)("div",{className:"tab-content",id:"v-pills-tabContent",children:[(0,d.jsx)("div",{className:"tab-pane fade show active",id:"v-pills-myDetails",role:"tabpanel","aria-labelledby":"v-pills-myDetails-tab",tabIndex:"0",children:(0,d.jsx)(t.default,{})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"v-pills-myAddressBook",role:"tabpanel","aria-labelledby":"v-pills-myAddressBook-tab",tabIndex:"0",children:(0,d.jsx)(l.default,{})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"v-pills-myOrders",role:"tabpanel","aria-labelledby":"v-pills-myOrders-tab",tabIndex:"0",children:(0,d.jsx)(n.default,{})}),(0,d.jsx)("div",{className:"tab-pane fade",id:"v-pills-accountSettings",role:"tabpanel","aria-labelledby":"v-pills-accountSettings-tab",tabIndex:"0",children:(0,d.jsx)(o.default,{})})]})})]})})]})}},8175:function(e,a,s){var r=s(2791),t=function(){return t=Object.assign||function(e){for(var a,s=1,r=arguments.length;s<r;s++)for(var t in a=arguments[s])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e},t.apply(this,arguments)};var l=function(e){var a=e.animate,s=void 0===a||a,l=e.animateBegin,n=e.backgroundColor,o=void 0===n?"#f5f6f7":n,i=e.backgroundOpacity,d=void 0===i?1:i,c=e.baseUrl,u=void 0===c?"":c,m=e.children,p=e.foregroundColor,h=void 0===p?"#eee":p,x=e.foregroundOpacity,f=void 0===x?1:x,v=e.gradientRatio,b=void 0===v?2:v,g=e.gradientDirection,j=void 0===g?"left-right":g,y=e.uniqueKey,N=e.interval,w=void 0===N?.25:N,k=e.rtl,Z=void 0!==k&&k,P=e.speed,_=void 0===P?1.2:P,I=e.style,S=void 0===I?{}:I,C=e.title,E=void 0===C?"Loading...":C,B=e.beforeMask,A=void 0===B?null:B,O=function(e,a){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)a.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(s[r[t]]=e[r[t]])}return s}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),M=y||Math.random().toString(36).substring(6),F=M+"-diff",U=M+"-animated-diff",q=M+"-aria",D=Z?{transform:"scaleX(-1)"}:null,T="0; "+w+"; 1",R=_+"s",L="top-bottom"===j?"rotate(90)":void 0;return(0,r.createElement)("svg",t({"aria-labelledby":q,role:"img",style:t(t({},S),D)},O),E?(0,r.createElement)("title",{id:q},E):null,A&&(0,r.isValidElement)(A)?A:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+u+"#"+F+")",style:{fill:"url("+u+"#"+U+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:F},m),(0,r.createElement)("linearGradient",{id:U,gradientTransform:L},(0,r.createElement)("stop",{offset:"0%",stopColor:o,stopOpacity:d},s&&(0,r.createElement)("animate",{attributeName:"offset",values:-b+"; "+-b+"; 1",keyTimes:T,dur:R,repeatCount:"indefinite",begin:l})),(0,r.createElement)("stop",{offset:"50%",stopColor:h,stopOpacity:f},s&&(0,r.createElement)("animate",{attributeName:"offset",values:-b/2+"; "+-b/2+"; "+(1+b/2),keyTimes:T,dur:R,repeatCount:"indefinite",begin:l})),(0,r.createElement)("stop",{offset:"100%",stopColor:o,stopOpacity:d},s&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+b),keyTimes:T,dur:R,repeatCount:"indefinite",begin:l})))))},n=function(e){return e.children?(0,r.createElement)(l,t({},e)):(0,r.createElement)(o,t({},e))},o=function(e){return(0,r.createElement)(n,t({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};a.ZP=n}}]);
//# sourceMappingURL=19.69e8ef0c.chunk.js.map