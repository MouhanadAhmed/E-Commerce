{"version":3,"file":"static/js/22.47918cac.chunk.js","mappings":"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","sources":["Components/Brand/BrandProducts/BrandProducts.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { cartContext } from '../../../Context/CartContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport Loading from '../../Helpers/Loading/Loading';\r\nimport { DynamicStar } from 'react-dynamic-star';\r\nimport {Helmet} from \"react-helmet\";\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\n\r\n\r\nexport default function BrandProducts() {\r\n    let {id} =useParams();\r\n    const [allBrandProducts,setAllBrandProducts]=useState();\r\n\r\n    let {addToCart,userCart,removeItem,userWishlist,addToWishlist,removeFromWishlist} =useContext(cartContext);\r\n\r\n    async function addProduct(productId){\r\n      let response = await addToCart(productId);\r\n      if(response?.data.status === 'success'){\r\n        toast.success(response.data.message,{\r\n          duration:3000,\r\n          position:'top-right',\r\n          style:\r\n          {background:'black',\r\n          color:'white'}\r\n        });\r\n      }else{\r\n        toast.error('Error',{duration:3000} )\r\n      }\r\n      }\r\n      async function RemoveProduct(productId){\r\n        let response = await removeItem(productId);\r\n            if(response?.data.status === 'success'){\r\n              // decrement();\r\n              toast.success('Product removed from cart',{\r\n                duration:3000,\r\n                position:'top-right',\r\n                style:\r\n                {background:'black',\r\n                color:'white'}\r\n              });\r\n            }else{\r\n              toast.error('Error',{duration:3000} )\r\n            }\r\n      }\r\n      function checkProductInCart(id){\r\n        let status = userCart?.filter((item)=> item === id);\r\n         if (status?.length>0){\r\n          return true\r\n         }else{\r\n          return false\r\n         }\r\n      }\r\n      function checkProductInWishlist(id){\r\n        // console.log('wishlist',wishlist);\r\n        //   console.log(wishlist?.filter((item)=> item.id === id));\r\n        // wishlist?.find((item)=> item._id === id)\r\n        let status = userWishlist?.filter((item)=> item === id);\r\n         if (status?.length>0){\r\n          return true\r\n         }else{\r\n          return false\r\n         }\r\n      }\r\n    \r\n      async function addProductToWishlist(productId){\r\n        let response = await addToWishlist(productId);\r\n        if(response?.data.status === 'success'){\r\n          // setHeartIcon('fa-solid text-danger')\r\n          // getFeaturedProducts();\r\n          toast.success(response.data.message,{\r\n            duration:3000,\r\n            position:'top-right',\r\n            style:\r\n            {background:'black',\r\n            color:'white'}\r\n          });\r\n        }else{\r\n          toast.error('Error',{duration:3000} )\r\n        }\r\n        // console.log(response);\r\n      }\r\n    \r\n      async function removeProductFromWishlist(productId){\r\n        let response = await removeFromWishlist(productId);\r\n        if(response?.data.status === 'success'){\r\n          // setHeartIcon('fa-solid text-danger')\r\n          // getFeaturedProducts();\r\n          toast.success(response.data.message,{\r\n            duration:3000,\r\n            position:'top-right',\r\n            style:\r\n            {background:'black',\r\n            color:'white'}\r\n          });\r\n        }else{\r\n          toast.error('Error',{duration:3000} )\r\n        }\r\n        // console.log(response);\r\n      }\r\n    async function getBrandProducts(id){\r\n     let {data} =    await axios.get(`https://ecommerce.routemisr.com/api/v1/products?brand=${id}`);\r\n     setAllBrandProducts(data.data);\r\n     console.log(data);\r\n    }\r\n    useEffect(()=>{\r\n        getBrandProducts(id);\r\n    },[id])\r\n  return (\r\n    <>\r\n                  <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Brand products</title>\r\n            </Helmet>\r\n {allBrandProducts?    <div className=\"container py-4\">\r\n      <div className=\"row\">\r\n        {allBrandProducts.length !== 0?<> {allBrandProducts.map((product)=>\r\n                                <div key={product.id} className=\"col-md-3  \">\r\n                                <div className=\"product px-2 py-3 rounded \">\r\n                                  <Link to={'/product-details/'+ product.id}>\r\n                                    <figure className='position-relative rounded'>\r\n                                      <LazyLoadImage src={product.imageCover} className='w-100  rounded ' alt={product.category.name} effect='blur'></LazyLoadImage>\r\n                                    {/* <img src={product.imageCover} className='w-100  rounded ' alt={product.category.name} /> */}\r\n                                    {product.priceAfterDiscount && product.priceAfterDiscount !== product.price? <span className=\"sale badge text-bg-danger position-absolute top-0 end-0 rounded\">Sale</span>:\"\"}\r\n                                    </figure>\r\n                                  \r\n              \r\n                                  <p className='text-main  my-0 '>{product.category.name}</p>\r\n                                  </Link>\r\n                                  <div className=\"d-flex justify-content-between\">\r\n                                  <p className='text-primary fs-7'>{product.brand.name}</p>\r\n                                  {checkProductInWishlist(product.id)? <i className={`fa-solid text-danger fa-heart pe-3 cursor-pointer`} onClick={(e)=>{ removeProductFromWishlist(product.id)}}></i>: <i className={`fa-regular fa-heart pe-3 cursor-pointer`} onClick={(e)=>{ addProductToWishlist(product.id)}}></i>}\r\n                                  </div>\r\n                                   {/* <i className={`${heartIcon} fa-heart pe-3`} onClick={(e)=>{ addProductToWishlist(product.id)}}></i> */}\r\n                                  <Link to={'/product-details/'+ product.id}>\r\n                                  {product.priceAfterDiscount && product.priceAfterDiscount !== product.price?\r\n                                  <>\r\n                                    <p className='d-flex align-items-center fw-bold mb-0 me-2'>\r\n                                      <sup className='pt-2'>EGP</sup> \r\n                                      <span className='fs-5 mx-0 px-0'>{product.priceAfterDiscount.toLocaleString()}</span> \r\n                                      <sup className='pt-2'>00</sup> \r\n                                    </p>\r\n                                    <p className='text-decoration-line-through text-muted d-flex align-items-center mb-2 p-0 me-2'>\r\n                                      <sup className='pt-2'>EGP</sup> \r\n                                      <span className='fs-6 mx-0 px-0'>{product.price.toLocaleString()}</span>\r\n                                      <sup className='pt-2'>00</sup>\r\n                                    </p>\r\n                                  </>:  <p className='d-flex align-items-center fw-bold p-0 me-2  pb-3'>\r\n                                          <sup className='pt-2'>EGP</sup> \r\n                                          <span className='fs-5 mx-0 px-0'>{product.price.toLocaleString()}</span>\r\n                                          <sup className='pt-2'>00</sup>\r\n                                        </p>}\r\n              \r\n                                  <h3 className='h6 text-truncate'>{product.title}</h3>\r\n                                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    {/* <p>{product.price} EGP</p> */}\r\n                                    <div className='d-flex'>\r\n                                    {/* {product.ratingsAverage} */}\r\n                                    <span className='ms-2 mt-1 pt-0'> <DynamicStar  outlined={true} height={'30'} width={'15'} rating={product.ratingsAverage} /></span>\r\n                                    \r\n                                    {/* <i className='fa fa-star rating-color'></i> */}\r\n                                    <span className='ms-2 mt-0 pt-0'>{product.ratingsQuantity}</span>\r\n                                    </div>\r\n                                  </div>\r\n                                  </Link>\r\n                                  {checkProductInCart(product.id)  ? <button onClick={()=>RemoveProduct(product.id)} className='btn bg-danger text-white w-100'>Remove from cart</button>:<button onClick={()=>addProduct(product.id)} className='btn bg-main text-white w-100'>+ Add to cart</button>}\r\n                                  {/* <button onClick={()=>addProduct(product.id)} className='btn bg-main text-white w-100'>+ Add to cart</button> */}\r\n                                  \r\n                                </div>\r\n              \r\n                               \r\n                               \r\n                              </div>\r\n        )}</>:<h2>No products </h2>}\r\n        \r\n      </div>\r\n    </div>:<Loading></Loading> }\r\n    </>\r\n  )\r\n}\r\n"],"names":["BrandProducts","id","useParams","_useState","useState","_useState2","_slicedToArray","allBrandProducts","setAllBrandProducts","_useContext","useContext","cartContext","addToCart","userCart","removeItem","userWishlist","addToWishlist","removeFromWishlist","_addProduct","_asyncToGenerator","_regeneratorRuntime","mark","_callee","productId","response","wrap","_context","prev","next","sent","data","status","toast","message","duration","position","style","background","color","stop","apply","arguments","_RemoveProduct","_callee2","_context2","checkProductInCart","filter","item","length","checkProductInWishlist","_addProductToWishlist","_callee3","_context3","_removeProductFromWishlist","_callee4","_context4","_getBrandProducts","_callee5","_yield$axios$get","_context5","axios","concat","console","log","useEffect","_x5","getBrandProducts","_jsxs","_Fragment","children","Helmet","_jsx","charSet","className","map","product","Link","to","LazyLoadImage","src","imageCover","alt","category","name","effect","priceAfterDiscount","price","brand","onClick","e","_x4","removeProductFromWishlist","_x3","addProductToWishlist","toLocaleString","title","DynamicStar","outlined","height","width","rating","ratingsAverage","ratingsQuantity","_x2","RemoveProduct","_x","addProduct","Loading"],"sourceRoot":""}