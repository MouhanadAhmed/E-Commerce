/*! For license information please see 575.c35b8b92.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[575],{575:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(4165),a=r(5861),s=r(9439),o=r(2791),c=r(1243),i=r(1087),l=r(9190),d=r(5218),u=r(6536),p=r(5320),f=r(184);function m(e){var t=(0,o.useState)(),r=(0,s.Z)(t,2),m=r[0],h=r[1],g=(0,o.useContext)(l.o),y=g.addToCart,x=g.increment,v=g.baseUrl,j=g.handleBaseUrl;function b(){return(b=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:"success"===(null===(r=e.sent)||void 0===r?void 0:r.data.status)?(x(),d.Am.success(r.data.message,{duration:3e3,position:"top-right",style:{background:"black",color:"white"}})):d.Am.error("Error",{duration:3e3}),console.log(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=(0,a.Z)((0,n.Z)().mark((function t(){var r,a,s,o,i,l;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(v,"/api/v1/products")).catch((function(e){console.log("getFeaturedProducts error",e.message,e),"ERR_NETWORK"===e.code&&j()}));case 2:a=t.sent,s=a.data,console.log(s.data,"All products"),h(s.data),o=null===(r=s.data)||void 0===r?void 0:r.filter((function(e){return e.priceAfterDiscount&&e.priceAfterDiscount!==e.price})),console.log(o,"Sales Products"),h(o),console.log(e,"args"),console.log("args length",Object.keys(e).length),0!==Object.keys(e).length&&(l=null===(i=s.data)||void 0===i?void 0:i.filter((function(t){return t.brand._id===e.name})),console.log(l,"Brand Products"),h(l));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){N.apply(this,arguments)}()})),(0,f.jsx)(f.Fragment,{children:m?(0,f.jsx)("div",{className:"container py-4",children:(0,f.jsx)("div",{className:"row  justify-content-around",children:null===m||void 0===m?void 0:m.map((function(e){return(0,f.jsx)("div",{className:"col-4  ",children:(0,f.jsxs)("div",{className:"product px-2 py-3 rounded ",children:[(0,f.jsxs)(i.rU,{to:"/product-details/"+e.id,children:[(0,f.jsxs)("figure",{className:"position-relative rounded",children:[(0,f.jsx)("img",{src:e.imageCover,className:"w-100  rounded ",alt:e.category.name}),e.priceAfterDiscount&&e.priceAfterDiscount!==e.price?(0,f.jsx)("span",{className:"sale badge text-bg-danger position-absolute top-0 end-0 rounded",children:"Sale"}):""]}),(0,f.jsx)("p",{className:"text-main  my-0 ",children:e.category.name}),(0,f.jsx)("p",{className:"text-primary fs-7",children:e.brand.name}),e.priceAfterDiscount&&e.priceAfterDiscount!==e.price?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("p",{className:"d-flex align-items-center fw-bold mb-0 me-2",children:[(0,f.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,f.jsx)("span",{className:"fs-5 mx-0 px-0",children:e.priceAfterDiscount.toLocaleString()}),(0,f.jsx)("sup",{className:"pt-2",children:"00"})]}),(0,f.jsxs)("p",{className:"text-decoration-line-through text-muted d-flex align-items-center mb-2 p-0 me-2",children:[(0,f.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,f.jsx)("span",{className:"fs-6 mx-0 px-0",children:e.price.toLocaleString()}),(0,f.jsx)("sup",{className:"pt-2",children:"00"})]})]}):(0,f.jsxs)("p",{className:"d-flex align-items-center fw-bold p-0 me-2  pb-3",children:[(0,f.jsx)("sup",{className:"pt-2",children:"EGP"}),(0,f.jsx)("span",{className:"fs-5 mx-0 px-0",children:e.price.toLocaleString()}),(0,f.jsx)("sup",{className:"pt-2",children:"00"})]}),(0,f.jsx)("h3",{className:"h6 text-truncate",children:e.title}),(0,f.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsxs)("span",{className:"ms-2 mt-1 pt-0",children:[" ",(0,f.jsx)(p.Q,{outlined:!0,height:"30",width:"15",rating:e.ratingsAverage})]}),(0,f.jsx)("span",{className:"ms-2 mt-0 pt-0",children:e.ratingsQuantity})]})})]}),(0,f.jsx)("button",{onClick:function(){return function(e){return b.apply(this,arguments)}(e.id)},className:"btn bg-main text-white w-100",children:"+ Add to cart"})]})},e.id)}))})}):(0,f.jsx)(u.default,{})})}},5320:function(e,t,r){r.d(t,{Q:function(){return v}});var n=r(3433),a=r(9439),s=r(2791),o=0,c=function(e,t){switch(t.type){case"ADD_STAR":return void 0===t.payload?e:[].concat((0,n.Z)(e),(0,n.Z)(Array(t.payload).fill({raw:0,percent:"0%"})));case"FILL_STAR":if(void 0===t.payload)return e;var r=Math.floor(t.payload),a=Math.round(t.payload%1*10)/10,s=Math.round(10*a)/10;return e.map((function(e,n){return r>=n+1?{raw:1,percent:"100%"}:t.payload===n+s?function(e){return{raw:e,percent:100*e+"%"}}(s):{raw:0,percent:"0%"}}));case"REMOVE_STAR":return(0,n.Z)(e.slice(0,t.payload));default:return e}},i={exports:{}},l={};Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()||Object.assign;var d=s,u=60103;if(l.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var p=Symbol.for;u=p("react.element"),l.Fragment=p("react.fragment")}var f=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m=Object.prototype.hasOwnProperty,h={key:!0,ref:!0,__self:!0,__source:!0};function g(e,t,r){var n,a={},s=null,o=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)m.call(t,n)&&!h.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:u,type:e,key:s,ref:o,props:a,_owner:f.current}}l.jsx=g,l.jsxs=g,i.exports=l;var y=i.exports.jsx,x=i.exports.jsxs;var v=s.memo((function(e){var t=e.rating,r=e.outlined,n=e.outlineWidth,i=e.sharpnessStar,l=void 0===i?2.5:i,d=e.totalStars,u=void 0===d?5:d,p=e.width,f=void 0===p?100:p,m=e.height,h=void 0===m?100:m,g=e.emptyStarColor,v=void 0===g?"transparent":g,j=e.fullStarColor,b=void 0===j?"#FFBC00":j,N=function(e){var t=s.useState(o),r=(0,a.Z)(t,2),n=r[0],c=r[1];return s.useEffect((function(){c(++o)}),[]),s.useMemo((function(){return"".concat(e?e+"_":"").concat(n)}),[e,n])}("star"),w=u<0?0:u,O=s.useReducer(c,Array(w).fill({raw:0,percent:"0%"})),_=(0,a.Z)(O,2),S=_[0],A=_[1],E=function(e){return 0!==e.raw?b:v},k=function(){var e=f/5;return function(e,t,r,n,a){for(var s=Math.PI/r,o=2*r,c="",i=0;i<o;i++){var l=i%2===0?a:n;c+=e+Math.cos(i*s+60)*l+","+(t+Math.sin(i*s+60)*l)+" "}return c}(f/2,f/2,5,e,e*l)};return s.useEffect((function(){var e=w-S.length;e<0&&A({type:"REMOVE_STAR",payload:e})}),[w,S.length]),s.useEffect((function(){var e=w-S.length;e>0&&A({type:"ADD_STAR",payload:e})}),[w,S.length]),s.useEffect((function(){A({type:"FILL_STAR",payload:"string"===typeof t?parseFloat(t):t})}),[t,S.length]),y("div",{className:"dynamic-star-rating","aria-label":"".concat(t," of 5"),children:S.map((function(e,t){return y("div",{className:"dynamic-star-container",children:x("svg",{className:"dynamic-star-svg",style:{fill:"url(#".concat(N,"_gradient").concat(e.raw,")"),stroke:"string"===typeof r?r:r?b:"none",strokeWidth:null!=n?n:"unset",width:f,height:h},"aria-hidden":"true",children:[y("polygon",{points:k(),fillRule:"nonzero"}),y("defs",{children:x("linearGradient",{id:"".concat(N,"_gradient").concat(e.raw),children:[y("stop",{id:"stop1",offset:e.percent,stopOpacity:"1",stopColor:E(e)}),y("stop",{id:"stop2",offset:e.percent,stopOpacity:"0",stopColor:E(e)}),y("stop",{id:"stop3",offset:e.percent,stopOpacity:"1",stopColor:v}),y("stop",{id:"stop4",offset:"100%",stopOpacity:"1",stopColor:v})]})})]})},"".concat(N,"_").concat(t))}))})}))}}]);
//# sourceMappingURL=575.c35b8b92.chunk.js.map