"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[600],{1600:function(e,s,a){a.r(s),a.d(s,{default:function(){return f}});var r=a(4165),n=a(5861),l=a(9439),t=a(1243),i=a(5705),o=a(2791),d=a(7689),c=a(1087),u=a(6727),m={width:"Login_width__ZgFZq",blueInput:"Login_blueInput__Rt35w",redInput:"Login_redInput__5LzsD"},p=a(4270),h=a(184);function f(e){var s=e.saveUserData,a=(0,o.useState)(!1),f=(0,l.Z)(a,2),w=f[0],x=f[1],g=(0,o.useState)(null),b=(0,l.Z)(g,2),j=b[0],v=b[1],N=(0,d.s0)(""),y=(0,o.useState)(!1),S=(0,l.Z)(y,2),Z=S[0],_=S[1],I=(0,o.useState)("fa-eye"),k=(0,l.Z)(I,2),C=k[0],P=k[1],q=u.Ry({email:u.Z_().email("Invalid Email").required("Email is required"),password:u.Z_().matches(/^[A-Z][a-z0-9]{3,8}$/,"Invalid Password").required("Password is required")}),A=(0,i.TA)({initialValues:{email:"",password:""},validationSchema:q,onSubmit:function(e){!function(e){F.apply(this,arguments)}(e),localStorage.setItem("userMail",e.email)}});function F(){return(F=(0,n.Z)((0,r.Z)().mark((function e(a){var n,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),v(null),e.next=4,t.Z.post("https://ecommerce.routemisr.com/api/v1/auth/signin",a).catch((function(e){x(!1),v(e.response.data.message)}));case 4:n=e.sent,l=n.data,console.log(l),"success"===l.message&&(localStorage.setItem("userToken",l.token),s(),N("/"),x(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(p.q,{children:[(0,h.jsx)("meta",{charSet:"utf-8"}),(0,h.jsx)("title",{children:"Login"})]}),(0,h.jsxs)("div",{className:"containe my-5   m-auto rounded p-3 ".concat(m.width),children:[(0,h.jsx)("h3",{className:"fw-bold mb-3",children:"Sign in"}),j?(0,h.jsx)("div",{className:"alert alert-danger",children:j}):"",(0,h.jsxs)("form",{onSubmit:A.handleSubmit,className:"w-100",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("input",{type:"email",className:"form-control mb-3 py-2 ".concat(m.blueInput," rounded-pill"),placeholder:"Email Address",id:"email",name:"email",value:A.values.email,onChange:A.handleChange,onBlur:A.handleBlur}),(0,h.jsx)("label",{htmlFor:"email",className:"fw-semibold",children:"Email"})]}),A.errors.email&&A.touched.email?(0,h.jsx)("div",{className:"alert alert-danger",children:A.errors.email}):"",(0,h.jsxs)("div",{className:"form-group  position-relative",children:[(0,h.jsx)("input",{type:Z?"text":"password",className:"form-control mb-3 py-2 ".concat(m.redInput,"  rounded-pill"),placeholder:"Password",id:"password",name:"password",value:A.values.password,onChange:A.handleChange,onBlur:A.handleBlur}),(0,h.jsx)("label",{htmlFor:"password",className:"fw-semibold",children:"Password"}),(0,h.jsx)("i",{className:"far ".concat(C," cursor-pointer position-absolute"),id:"togglePassword",onClick:function(){!0===Z?(_(!1),P("fa-eye")):(_(!0),P("fa-eye-slash"))}})]}),A.errors.password&&A.touched.password?(0,h.jsx)("div",{className:"alert alert-danger",children:A.errors.password}):"",(0,h.jsx)("button",{className:"btn w-100 mb-3  rounded-pill bg-prim",type:"submit",children:w?(0,h.jsx)("i",{className:"fa fa-spinner fa-spin"}):"Sign in"})]}),(0,h.jsxs)("h4",{className:"fs-6 pb-3",children:[(0,h.jsx)(c.rU,{to:"/forgotPassword",className:"text-primary  ms-2",children:"Forgot your password?"})," "]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("h4",{className:"fs-6 pb-3",children:["New to SOPA?",(0,h.jsx)(c.rU,{to:"/register",className:"text-primary text-decoration-underline ms-2",children:"Create an Account"})," "]})]})]})}}}]);
//# sourceMappingURL=600.998dde6a.chunk.js.map